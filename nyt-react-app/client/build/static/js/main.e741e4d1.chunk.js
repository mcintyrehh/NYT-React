(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{135:function(e,t,a){},136:function(e,t,a){},155:function(e,t,a){e.exports=a(313)},160:function(e,t,a){},164:function(e,t,a){},306:function(e,t,a){},310:function(e,t,a){},313:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),c=a(137),s=a.n(c),l=(a(160),a(17)),o=a(18),i=a(20),u=a(19),m=a(21),p=a(323),h=a(317),f=a(325),d=a(324),v=(a(53),a(321)),E=a(315),b=a(316),y=a(322),j=a(56),g=a(138),O=a(319),k=a(318),x=a(320),S=a(314),N=(a(164),a(58)),C=a.n(N),w={searchArticles:function(e){return C.a.get("https://api.nytimes.com/svc/search/v2/articlesearch.json?",{params:{"api-key":"cd28b096fd704b9c816a4d2f39e42b72",q:e.search,begin_date:e.startDate,end_date:e.endDate}}).then(function(e){return e}).catch(function(e){console.log(e)})},saveArticle:function(e){return C.a.post("/api/articles",e)},getFavs:function(){return C.a.get("/api/articles")},deleteArticle:function(e){return C.a.delete("/api/articles/"+e)}},D=a(51),A=Object(D.a)(),R=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){var t={search:a.state.search,startYear:a.state.startDate,endYear:a.state.endDate};console.log(t),a.searchArticles(t),A.push("/results")},a.searchArticles=function(e){w.searchArticles(e).then(function(e){return a.props.onSearch(e.data)}).catch(function(e){return console.log(e)})},a.setSearchTop=function(e){a.props.setSearch(e)},a.handleInputChange=function(e){var t=e.target.value,n=e.target.name;a.setState(Object(g.a)({},n,t))},a.onDateChange=function(e){var t=e[0]?e[0].format("YYYYMMDD"):"",n=e[1]?e[1].format("YYYYMMDD"):"";a.setState({startDate:t}),a.setState({endDate:n})},a.state={search:"",startDate:"",endDate:"",enabled:!1,searchResult:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=O.a.Item,t=k.a.RangePicker;return r.a.createElement(E.a,{type:"flex",className:"search-box",justify:"center"},r.a.createElement(b.a,{span:16,style:{margin:"0 auto"}},r.a.createElement(O.a,{layout:"vertical"},r.a.createElement("div",{style:{color:"white"}},"Topic "),r.a.createElement(e,{className:"form-item"},r.a.createElement(x.a,{placeholder:"search query",name:"search",onChange:this.handleInputChange})),r.a.createElement("div",{style:{color:"white"}},"Search Range"),r.a.createElement(t,{className:"form-item",disabled:this.state.enabled,onChange:this.onDateChange,format:"YYYY/MM/DD"}),r.a.createElement(e,null,r.a.createElement(h.a,{to:"/results/"},r.a.createElement(S.a,{type:"primary",onClick:this.handleFormSubmit},"Search"))))))}}]),t}(n.Component),F=(a(306),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleSearch=function(e){a.props.setSearch(e)},a.onChange=function(e){console.log(a.state),console.log("test"+e)},a.handleSearch=a.handleSearch.bind(Object(j.a)(Object(j.a)(a))),a.state={results:"",top:150},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{type:"flex",justify:"center"},r.a.createElement(b.a,{span:16,className:"title"},r.a.createElement(E.a,{type:"flex",justify:"center"},r.a.createElement(b.a,{span:18},r.a.createElement("div",{className:"title"},"Search New York Times Articles"))),r.a.createElement(E.a,{type:"flex",justify:"center"},r.a.createElement(b.a,{span:24,className:"searchBox"},r.a.createElement(y.a,{offsetTop:this.state.top},r.a.createElement(R,{setSearch:this.props.setSearch,onSearch:this.handleSearch}))))))}}]),t}(n.Component)),Y=a(22),T=(a(135),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(e){return r.a.createElement(E.a,{className:"card-div"},r.a.createElement(b.a,{span:7,className:"side-info-holder"},r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement("img",{alt:'pic for "'.concat(this.props.article.title,'" article'),src:"https://pmcdeadline2.files.wordpress.com/2016/10/the-new-york-times-logo-featured.jpg?w=446&h=299&crop=1"})),r.a.createElement("div",{className:"fav",value:this.props.article._id,"fav-saved":"false"},r.a.createElement("button",{className:"card-btn",onClick:this.props.onClick},r.a.createElement(Y.a,{type:"star"})))),r.a.createElement(b.a,{span:15},r.a.createElement("div",{className:"article-info"},r.a.createElement("h3",{className:"card-title"},r.a.createElement("a",{target:"_blank",href:this.props.article.web_url},this.props.article.headline.main?this.props.article.headline.main:this.props.article.title)),r.a.createElement("div",{className:"card-text p-0 summary"},this.props.article.snippet))))}}]),t}(n.Component)),_=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(e){return r.a.createElement(E.a,{className:"card-div"},r.a.createElement(b.a,{span:7,className:"side-info-holder"},r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement("img",{alt:'pic for "'.concat(this.props.article.title,'" article'),src:"https://pmcdeadline2.files.wordpress.com/2016/10/the-new-york-times-logo-featured.jpg?w=446&h=299&crop=1"})),r.a.createElement("div",{className:"delete",value:this.props.article._id,"fav-saved":"false"},r.a.createElement("button",{className:"card-btn",onClick:this.props.onClick},r.a.createElement(Y.a,{type:"delete"})))),r.a.createElement(b.a,{span:15},r.a.createElement("div",{className:"article-info"},r.a.createElement("h3",{className:"card-title"},r.a.createElement("a",{target:"_blank",href:this.props.article.url},this.props.article.title)),r.a.createElement("div",{className:"card-text p-0 summary"},this.props.article.snippet))))}}]),t}(n.Component),M=(a(136),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(){var e=a.state.savedState===a.unsaved?a.unsaved:a.saved;a.setState({savedState:e})},a.saveArticle=function(e){console.log(e);var t={title:e.headline.main,date:e.pub_date,url:e.web_url,snippet:e.snippet};w.saveArticle(t).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},a.state={searchResults:"",top:50},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){console.log("ResultsBox"),console.log(this.props.results);var e=this.props.results;this.setState({searchResults:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{type:"flex",justify:"center"},r.a.createElement(b.a,{span:24,style:{marginTop:"30px"}},this.state.searchResults&&this.state.searchResults.map(function(t){return r.a.createElement(T,{onClick:function(){return e.saveArticle(t)},article:t,key:t._id})})))}}]),t}(n.Component)),I=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{type:"flex",justify:"center"},r.a.createElement(b.a,{span:16,className:"title"},r.a.createElement(E.a,{type:"flex",justify:"center"},r.a.createElement(b.a,{span:16},r.a.createElement("div",null,"Search Results"))),r.a.createElement(E.a,{type:"flex",justify:"center"},r.a.createElement(M,{results:this.props.results}))))}}]),t}(n.Component),B=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).deleteArticle=function(e){console.log(e),w.deleteArticle(e).then(function(e){console.log(e),a.loadFavs()}).catch(function(e){return console.log(e)})},a.state={favResults:"",top:50},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){console.log("FavBox"),console.log(this.props.results);var e=this.props.results;this.setState({favResults:e})}},{key:"loadFavs",value:function(){var e=this;w.getFavs().then(function(t){var a=t.data;e.setState({favResults:a})}).catch(function(e){return console.log(e)})}},{key:"reload",value:function(){this.props.reload()}},{key:"render",value:function(){var e=this;return console.log("in fav box"),r.a.createElement(E.a,{type:"flex",justify:"center"},r.a.createElement(b.a,{span:24,style:{marginTop:"30px"}},this.state.favResults&&this.state.favResults.map(function(t){return r.a.createElement(_,{onClick:function(){return e.deleteArticle(t._id)},article:t,key:t._id})})))}}]),t}(n.Component),H=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={favorites:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){console.log("in Favorites.js"),this.loadFavs()}},{key:"loadFavs",value:function(){var e=this;w.getFavs().then(function(t){var a=t.data;e.setState({favorites:a}),console.log(t)}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return console.log(this.state),this.state.favorites.length>1?r.a.createElement(E.a,{type:"flex",justify:"center"},r.a.createElement(b.a,{span:16,className:"title"},r.a.createElement(E.a,{type:"flex",justify:"center"},r.a.createElement(b.a,{span:16},r.a.createElement("div",null,"Favorite Articles"))),r.a.createElement(E.a,{type:"flex",justify:"center"},r.a.createElement(B,{results:this.state.favorites,reload:this.loadFavs})))):r.a.createElement(E.a,{type:"flex",justify:"center"},r.a.createElement(b.a,{span:16,className:"title"},r.a.createElement(E.a,{type:"flex",justify:"center"},r.a.createElement(b.a,{span:16},r.a.createElement("div",null,"Favorite Articles"))),r.a.createElement(E.a,{type:"flex",justify:"center"},r.a.createElement(Y.a,{type:"loading"}))))}}]),t}(n.Component),q=(a(310),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,null,r.a.createElement(b.a,{className:"fav-div",span:16},r.a.createElement("div",null,"Favorite"),r.a.createElement("div",null,r.a.createElement(h.a,{onClick:this.loadFavs,to:"/favorites/"},r.a.createElement(Y.a,{type:"star",className:"gold"}))),r.a.createElement("div",null,"Articles")))}}]),t}(n.Component)),J=v.a.Header,W=v.a.Content,P=v.a.Footer,$=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).setSearch=function(t){console.log(t.response.docs);var a=t.response.docs;e.setState({searchResults:a})},e.state={top:50,bottom:10,searchResults:[]},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(p.a,null,r.a.createElement(v.a,{className:"layout"},r.a.createElement(J,null,r.a.createElement(E.a,{className:"logo",type:"flex",justify:"center"},r.a.createElement(b.a,{span:10},r.a.createElement(h.a,{to:"/"},r.a.createElement("div",{className:"logo"},"New York Times React Search"))))),r.a.createElement(W,{style:{backgroundImage:"url('../images/retro-furnish.png')",minHeight:"calc(100vh - 132.8px)"}},r.a.createElement("div",{style:{minHeight:280}},r.a.createElement(E.a,null,r.a.createElement(b.a,{span:5,className:"left-sidebar"},r.a.createElement(f.a,null,r.a.createElement(d.a,{exact:!0,path:"/results",component:function(){return r.a.createElement(y.a,{offsetTop:e.state.top},r.a.createElement(R,{onSearch:e.setSearch}))}}),r.a.createElement(d.a,{exact:!0,path:"/favorites",component:function(){return r.a.createElement(y.a,{offsetTop:e.state.top},r.a.createElement(R,{onSearch:e.setSearch}))}}))),r.a.createElement(b.a,{span:14},r.a.createElement(f.a,null,r.a.createElement(d.a,{exact:!0,path:"/",component:function(){return r.a.createElement(F,{className:"search",setSearch:e.setSearch})}}),r.a.createElement(d.a,{exact:!0,path:"/results",component:function(){return r.a.createElement(I,{results:e.state.searchResults})}}),r.a.createElement(d.a,{exact:!0,path:"/favorites",component:H}),r.a.createElement(d.a,{component:F}))),r.a.createElement(b.a,{span:5},r.a.createElement(f.a,null,r.a.createElement(d.a,{exact:!0,path:"/",component:function(){return r.a.createElement(y.a,{offsetTop:e.state.top},r.a.createElement(q,null))}}),r.a.createElement(d.a,{exact:!0,path:"/results",component:function(){return r.a.createElement(y.a,{offsetTop:e.state.top},r.a.createElement(q,null))}})))))),r.a.createElement(P,{style:{textAlign:"center",backgroundColor:"#001529",color:"white"}},"Ant Design \xa92018 Created by Henry McIntyre")))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},53:function(e,t,a){}},[[155,2,1]]]);
//# sourceMappingURL=main.e741e4d1.chunk.js.map